{"version":3,"sources":["webpack:///./src/templates/BlogPost/MarkdownContent.js","webpack:///./src/templates/BlogPost/BlogPost.js","webpack:///./src/utils/unwidow.js"],"names":["MarkdownContent","props","react_default","a","createElement","Object","assign","className","__webpack_require__","d","__webpack_exports__","pageQuery","Tags","_ref","tags","styles","tagDes","map","tag","index","key","BlogPostTemplate","_ref2","data","_useSiteMetadata","useSiteMetadata","title","siteUrl","post","markdownRemark","Fragment","Helmet_default","frontmatter","name","content","description","property","fields","slug","unwidow","date","dateTime","datetime","autor","author","BlogPost_Tags","BlogPost_MarkdownContent","dangerouslySetInnerHTML","__html","html","propTypes","PropTypes","object","isRequired","str","clean","trim","replace","match","length","split","pop"],"mappings":"sJA2PeA,gBAvPS,SAAAC,GAAK,OAC3BC,EAAAC,EAAAC,cAAA,MAAAC,OAAAC,OAAA,CAAKC,UAAU,mBAAsBN,yCCLvCO,EAAAC,EAAAC,EAAA,8BAAAC,IASA,IAAMC,EAAO,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAH,OACXZ,EAAAC,EAAAC,cAAA,OAAKG,UAAWQ,IAAOD,MACrBZ,EAAAC,EAAAC,cAAA,QAAMG,UAAWQ,IAAOC,QAAxB,OACCF,EAAKG,IAAI,SAACC,EAAKC,GAAN,OACRjB,EAAAC,EAAAC,cAAA,QAAMG,UAAWQ,IAAOG,IAAKE,IAAKD,GAC/BD,OAMHG,EAAmB,SAAAC,GAAc,IAAXC,EAAWD,EAAXC,KAAWC,EACVC,cAAnBC,EAD6BF,EAC7BE,MAAOC,EADsBH,EACtBG,QAETC,EAAOL,EAAKM,eAElB,OACE3B,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2B,SAAA,KACE5B,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,KACED,EAAAC,EAAAC,cAAA,aACGwB,EAAKI,YAAYN,MADpB,MAC8BA,GAG9BxB,EAAAC,EAAAC,cAAA,QAAM6B,KAAK,cAAcC,QAASN,EAAKI,YAAYG,cACnDjC,EAAAC,EAAAC,cAAA,QACE6B,KAAK,WACLC,QAAQ,0DAEVhC,EAAAC,EAAAC,cAAA,QAAMgC,SAAS,eAAeF,QAASR,IACvCxB,EAAAC,EAAAC,cAAA,QACEgC,SAAS,WACTH,KAAK,gBACLC,QAASN,EAAKI,YAAYN,QAE5BxB,EAAAC,EAAAC,cAAA,QAAMgC,SAAS,SAASF,QAAO,GAAKP,EAAUC,EAAKS,OAAOC,OAC1DpC,EAAAC,EAAAC,cAAA,QACEgC,SAAS,iBACTH,KAAK,sBACLC,QAASN,EAAKI,YAAYG,eAG9BjC,EAAAC,EAAAC,cAAA,OAAKG,UAAWQ,IAAOa,MACrB1B,EAAAC,EAAAC,cAAA,eACEF,EAAAC,EAAAC,cAAA,UAAKmC,YAAQX,EAAKI,YAAYN,QAC9BxB,EAAAC,EAAAC,cAAA,QAAMG,UAAWQ,IAAOyB,KAAMC,SAAUb,EAAKI,YAAYU,UACtDd,EAAKI,YAAYQ,MAEpBtC,EAAAC,EAAAC,cAAA,QAAMG,UAAWQ,IAAO4B,OAAxB,MAAmCf,EAAKI,YAAYY,QACpD1C,EAAAC,EAAAC,cAACyC,EAAD,CAAM/B,KAAMc,EAAKI,YAAYlB,OAC7BZ,EAAAC,EAAAC,cAAC0C,EAAD,CAAiBC,wBAAyB,CAAEC,OAAQpB,EAAKqB,YAOnE5B,EAAiB6B,UAAY,CAC3B3B,KAAM4B,IAAUC,OAAOC,YAGlB,IAAM1C,EAAS,aAmBPU,kECtEAkB,IAlBC,SAAAe,GAEd,IAAMC,EAAQD,EAAIE,OAAOC,QAAQ,OAAQ,KAKzC,OADcF,EAAMG,MAAM,QAAU,GAAGC,QAC3B,EAAUJ,EAGlBA,EAAMK,MAAM,KAAKC,MAAMF,OAAS,GAAWJ,EAKxCA,EAAME,QAAQ,oBAAqB","file":"component---src-templates-blog-post-blog-post-js-66f1227a93583b08346b.js","sourcesContent":["import React from 'react'\nimport './markdowncontent.css'\n// this component basically exists as a giant stylesheet that inherits from the\n// theme. it's for markdown content (hence the name). it's kind of a b\nconst MarkdownContent = props => (\n  <div className=\"markdownContent\" {...props}></div>\n)\n// const MarkdownContent = styled(Text)`\n//   /* Vertical Rhythm */\n//   & > * {\n//     /* reset all margins */\n//     margin-top: 0;\n//     margin-bottom: 0;\n\n//     /* margin top to all child elements */\n//     & + * {\n//       margin-top: ${({ theme }) => theme.space[3]};\n//     }\n\n//     /* bigger margin top on headers */\n//     & + h1,\n//     & + h2 {\n//       margin-top: ${({ theme }) => theme.space[5]};\n//     }\n\n//     & + h3,\n//     & + h4 {\n//       margin-top: ${({ theme }) => theme.space[4]};\n//     }\n//   }\n\n//   h1,\n//   h2,\n//   h3,\n//   h4,\n//   h5,\n//   h6 {\n//     line-height: ${({ theme }) => theme.lineHeights.title};\n//   }\n\n//   p,\n//   ul,\n//   ol,\n//   dl,\n//   address {\n//     max-width: 33em;\n//   }\n\n//   /* Headers */\n//   h1 {\n//     font-size: ${({ theme }) => theme.fontSizes[3]};\n//     font-weight: 600;\n\n//     @media (min-width: ${({ theme }) => theme.breakpoints[0]}) {\n//       font-size: ${({ theme }) => theme.fontSizes[4]};\n//     }\n//   }\n\n//   h2 {\n//     font-size: ${({ theme }) => theme.fontSizes[2]};\n//     font-weight: 600;\n\n//     @media (min-width: ${({ theme }) => theme.breakpoints[0]}) {\n//       font-size: ${({ theme }) => theme.fontSizes[3]};\n//     }\n//   }\n\n//   h3 {\n//     font-size: ${({ theme }) => theme.fontSizes[1]};\n//     font-weight: 600;\n\n//     @media (min-width: ${({ theme }) => theme.breakpoints[0]}) {\n//       font-size: ${({ theme }) => theme.fontSizes[2]};\n//     }\n//   }\n\n//   h4,\n//   h5,\n//   h6 {\n//     font-size: ${({ theme }) => theme.fontSizes[1]};\n//     font-weight: 500;\n\n//     @media (min-width: ${({ theme }) => theme.breakpoints[0]}) {\n//       font-size: ${({ theme }) => theme.fontSizes[2]};\n//     }\n//   }\n\n//   h1 code,\n//   h2 code,\n//   h3 code,\n//   h4 code,\n//   h5 code,\n//   h6 code {\n//     background-color: transparent;\n//     color: inherit;\n//   }\n\n//   /* Type Elements */\n\n//   hr {\n//     max-width: 4rem;\n//     height: ${({ theme }) => theme.space[1]};\n//     margin: ${({ theme }) => theme.space[4]} 0;\n//     border: 0;\n//     background-color: ${({ theme }) => theme.colors.orange};\n//   }\n\n//   ul,\n//   ol,\n//   dl {\n//     padding-left: ${({ theme }) => theme.space[4]};\n//   }\n\n//   ul ul,\n//   ol ol,\n//   ul ol,\n//   ol ul {\n//     margin-top: 0;\n//     margin-bottom: 0;\n//   }\n\n//   b,\n//   strong,\n//   em,\n//   small,\n//   code {\n//     line-height: 1;\n//   }\n\n//   sup,\n//   sub {\n//     vertical-align: baseline;\n//     position: relative;\n//     top: -0.4em;\n//   }\n\n//   sub {\n//     top: 0.4em;\n//   }\n\n//   a {\n//     ${themeHover};\n//     ${themeUnderline};\n\n//     &:hover code {\n//       color: ${({ theme }) => theme.colors.orange};\n//     }\n\n//     @media print {\n//       &:after {\n//         content: ' (' attr(href) ')';\n//         font-size: 0.875em;\n//       }\n//       &[href^='/']:after {\n//         content: ' (https://lowmess.com' attr(href) ')';\n//       }\n//       &[href^='#'] {\n//         text-decoration: none;\n\n//         &:after {\n//           content: '';\n//         }\n//       }\n//     }\n//   }\n\n//   blockquote,\n//   details {\n//     margin-top: ${({ theme }) => theme.space[4]};\n//     margin-right: 0;\n//     margin-bottom: ${({ theme }) => theme.space[4]};\n//     margin-left: 0;\n//     border-left: ${({ theme }) => theme.borders[3]}\n//       ${({ theme }) => theme.colors.orange};\n//     border-radius: ${({ theme }) => theme.radii[1]};\n//     padding: ${({ theme }) => theme.space[3]};\n//     background-color: ${({ theme }) => theme.colors.grays[1]};\n\n//     p {\n//       max-width: 30em;\n//     }\n\n//     > :first-child {\n//       margin-top: 0;\n//     }\n//     > :last-child {\n//       margin-bottom: 0;\n//     }\n//   }\n\n//   code {\n//     font-family: ${({ theme }) => theme.fonts.monospace};\n//   }\n\n//   p code,\n//   li code {\n//     border: 1px solid rgba(0, 0, 0, 0.1);\n//     border-radius: ${({ theme }) => theme.radii[1]};\n//     padding-left: ${({ theme }) => theme.space[1]};\n//     padding-right: ${({ theme }) => theme.space[1]};\n//     background-color: ${({ theme }) => theme.colors.grays[1]};\n//     color: ${({ theme }) => theme.colors.black};\n//     font-size: ${({ theme }) => theme.fontSizes[0]};\n//     white-space: nowrap;\n\n//     @media (min-width: ${({ theme }) => theme.breakpoints[0]}) {\n//       font-size: ${({ theme }) => theme.fontSizes[1]};\n//     }\n//   }\n\n//   pre {\n//     width: 100%;\n//     overflow-x: scroll;\n//     margin-top: ${({ theme }) => theme.space[4]};\n//     margin-bottom: ${({ theme }) => theme.space[4]};\n//     border-left: ${({ theme }) => theme.borders[3]}\n//       ${({ theme }) => theme.colors.orange};\n//     border-radius: ${({ theme }) => theme.radii[1]};\n//     padding: ${({ theme }) => theme.space[3]};\n//     background-color: ${({ theme }) => theme.colors.grays[11]};\n//     color: ${({ theme }) => theme.colors.grays[1]};\n//     font-size: ${({ theme }) => theme.fontSizes[0]};\n//     font-family: ${({ theme }) => theme.fonts.monospace};\n//     white-space: pre;\n\n//     @media (min-width: ${({ theme }) => theme.breakpoints[0]}) {\n//       font-size: ${({ theme }) => theme.fontSizes[1]};\n//     }\n\n//     @media print {\n//       background-color: transparent;\n//       color: ${({ theme }) => theme.colors.black};\n//     }\n//   }\n\n//   img {\n//     display: block;\n//     width: 100%;\n//     max-width: 48rem;\n//     margin-top: ${({ theme }) => theme.space[4]};\n//     margin-bottom: ${({ theme }) => theme.space[4]};\n//     border-radius: ${({ theme }) => theme.radii[1]};\n//   }\n\n//   iframe {\n//     margin-top: ${({ theme }) => theme.space[4]};\n//     margin-bottom: ${({ theme }) => theme.space[4]};\n//     border: 1px solid ${({ theme }) => theme.colors.grays[2]};\n//   }\n// `\n\nexport default MarkdownContent\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { graphql } from 'gatsby'\r\nimport Helmet from 'react-helmet'\r\nimport MarkdownContent from './MarkdownContent'\r\nimport { useSiteMetadata } from '../../utils/hooks'\r\nimport unwidow from '../../utils/unwidow'\r\nimport styles from './blogpost.module.css'\r\n\r\nconst Tags = ({ tags }) => (\r\n  <div className={styles.tags}>\r\n    <span className={styles.tagDes}>标签：</span>\r\n    {tags.map((tag, index) => (\r\n      <span className={styles.tag} key={index}>\r\n        {tag}\r\n      </span>\r\n    ))}\r\n  </div>\r\n)\r\n\r\nconst BlogPostTemplate = ({ data }) => {\r\n  const { title, siteUrl } = useSiteMetadata()\r\n\r\n  const post = data.markdownRemark\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>\r\n          {post.frontmatter.title} • {title}\r\n        </title>\r\n\r\n        <meta name=\"description\" content={post.frontmatter.description} />\r\n        <meta\r\n          name=\"viewport\"\r\n          content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\r\n        ></meta>\r\n        <meta property=\"og:site_name\" content={title} />\r\n        <meta\r\n          property=\"og:title\"\r\n          name=\"twitter:title\"\r\n          content={post.frontmatter.title}\r\n        />\r\n        <meta property=\"og:url\" content={`${siteUrl}${post.fields.slug}`} />\r\n        <meta\r\n          property=\"og:description\"\r\n          name=\"twitter:description\"\r\n          content={post.frontmatter.description}\r\n        />\r\n      </Helmet>\r\n      <div className={styles.post}>\r\n        <article>\r\n          <h1>{unwidow(post.frontmatter.title)}</h1>\r\n          <time className={styles.date} dateTime={post.frontmatter.datetime}>\r\n            {post.frontmatter.date}\r\n          </time>\r\n          <span className={styles.autor}>作者：{post.frontmatter.author}</span>\r\n          <Tags tags={post.frontmatter.tags}></Tags>\r\n          <MarkdownContent dangerouslySetInnerHTML={{ __html: post.html }} />\r\n        </article>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nBlogPostTemplate.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query BlogPostBySlug($slug: String!) {\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      html\r\n      id\r\n      frontmatter {\r\n        title\r\n        date(formatString: \"YYYY-MM-DD\")\r\n        description\r\n        author\r\n        tags\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default BlogPostTemplate\r\n","const unwidow = str => {\n  // Remove extra whitespace characters before starting.\n  const clean = str.trim().replace(/\\s+/g, ' ')\n\n  // We only care about strings with at least 4 words, so if we don't find at\n  // least 3 spaces in the string we can just return the cleaned up string.\n  const count = clean.match(/\\s/g) || [].length\n  if (count < 3) return clean\n\n  // If the last word is long enough, just return the cleaned string.\n  if (clean.split(' ').pop().length > 15) return clean\n\n  // Regex matches the last instance of a whitespace character that is followed\n  // by a non-whitespace character. It then replaces the former with a\n  // non-breaking space character (\\u00A0).\n  return clean.replace(/\\s+([\\S]*)(\\s*)$/g, '\\u00A0$1$2')\n}\n\nexport default unwidow\n"],"sourceRoot":""}